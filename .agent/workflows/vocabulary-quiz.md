---
description: 單字測驗系統 - 產生測驗、批改答案、更新紀錄
---

# 單字測驗系統 Workflow

本 workflow 定義了單字測驗系統的完整操作流程。

## 📂 相關檔案位置

- `vocabulary/words.md` — 單字庫
- `vocabulary/progress.md` — 學習進度追蹤
- `vocabulary/mistakes.md` — 錯誤單字統計與混淆單字組
- `vocabulary/quizzes/` — 測驗檔案目錄

---

## 🎯 任務一：產生新測驗

當用戶要求產生新測驗時，執行以下步驟：

### Step 1: 確認測驗編號

// turbo

1. 查看 `vocabulary/quizzes/` 目錄，確認最新的測驗編號
2. 新測驗編號 = 最新編號 + 1（格式：quiz-001, quiz-002...）

### Step 2: 選擇出題單字

1. 讀取 `vocabulary/words.md` 取得所有單字
2. 讀取 `vocabulary/mistakes.md` 取得錯誤單字清單
3. 出題優先順序：
   - **最優先**：錯誤率高的單字（mistakes.md 中的單字）
   - **次優先**：重要程度 5 且尚未測驗過的單字
   - **一般**：重要程度 4 的單字
   - **補充**：重要程度 3-2 的單字
4. 每份測驗 20-25 題

### Step 3: 產生題目（請全英文，不包含任何中文）

建立 `vocabulary/quizzes/quiz-XXX.md`，包含以下結構：

```markdown
# 📝 測驗 XXX

> 產生日期：YYYY-MM-DD
> 題數：XX 題
> 涵蓋重要程度：主要 X 分，部分 X 分

---

## Part 1: 選擇題 — 英翻中（10 題）

（根據英文選出正確的中文意思）

## Part 2: 選擇題 — 中翻英（5 題）

（根據中文選出正確的英文單字）

## Part 3: 填空題（5 題）

（根據句意填入正確單字，提供 4 個選項）

## Part 4: 配對題（5 題）

（將單字與定義配對）

---

## 📋 答案區

（使用 <details> 摺疊，點擊展開）

---

## 📊 本次測驗涵蓋單字

（列出所有測驗單字及重要程度）
```

### Step 4: 題目設計原則

1. **選擇題**：提供 4 個選項，其中干擾項應包含容易混淆的單字
2. **填空題**：設計職場情境句子，提供 4 個選項
3. **配對題**：5 個單字對應 5 個定義

---

## 🎯 任務二：批改測驗

當用戶提交測驗答案時，執行以下步驟：

### Step 1: 接收並解析答案

用戶會以以下格式提交：

```
Quiz-XXX 答案：
Q1: A
Q2: B
...
```

### Step 2: 批改並計算成績

1. 對照正確答案批改每一題
2. 計算：正確題數、錯誤題數、正確率

### Step 3: 回覆批改結果

向用戶顯示：

- 成績統計（正確/錯誤/正確率）
- 正確的題目清單
- 錯誤的題目清單（包含：單字、你的答案、正確答案、說明）
- 容易混淆的單字組（如有）
- 記憶技巧（如有）

### Step 4: 更新測驗檔案

在該測驗檔案（quiz-XXX.md）末尾加入「作答紀錄」區塊：

```markdown
---

## 📝 作答紀錄

> 作答日期：YYYY-MM-DD

### 成績

| 項目 | 結果 |
|-----|------|
| 正確 | XX 題 |
| 錯誤 | XX 題 |
| 正確率 | XX% |

### 我的答案

| 題號 | 我的答案 | 正確答案 | 結果 |
|-----|---------|---------|-----|
| Q1 | X | X | ✅/❌ |
...

### ❌ 錯誤詳細紀錄

#### QX: [單字]

- **題型**：選擇題/填空題/配對題
- **我的答案**：X（意思）
- **正確答案**：X（意思）
- **混淆原因**：（分析可能的混淆原因）
```

### Step 5: 更新 progress.md

1. 更新總覽統計（已測驗單字數、完成測驗數、平均正確率）
2. 新增測驗紀錄（日期、編號、題數、正確率）
3. 更新已測驗單字清單（測驗次數、正確次數、錯誤次數、正確率）

### Step 6: 更新 mistakes.md

1. 更新錯誤單字統計
2. 將錯誤單字加入對應區塊（高錯誤率/中等錯誤率）
3. 如有新的混淆單字組，加入「容易混淆的單字組」
4. 更新「錯誤來源追蹤」表格，加入新測驗的連結

### Step 7: 更新 words.md（可選）

將已測驗過的單字標記為 ✅

---

## 🎯 任務三：新增單字

當用戶提供新單字時，執行以下步驟：

### Step 1: 解析單字資料

用戶格式：`單字 | 中文意思 | 詞性 | 重要程度`

### Step 2: 更新 words.md

1. 將新單字加入對應的重要程度區塊
2. 更新總覽統計表

### Step 3: 確認回覆

告知用戶已新增的單字數量和內容

---

## 📋 注意事項

1. **日期格式**：統一使用 YYYY-MM-DD
2. **測驗編號**：三位數，前面補零（001, 002...）
3. **錯誤率計算**：錯誤次數 / (正確次數 + 錯誤次數) × 100%
4. **混淆單字組**：當發現相似單字被混淆時，記錄並提供記憶技巧
5. **出題避免重複**：同一份測驗中，同一單字只能出現一次
