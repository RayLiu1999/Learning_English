---
description: 片語測驗系統 - 產生測驗、批改答案、更新紀錄
---

# 片語測驗系統 Workflow

本 workflow 定義了片語測驗系統的完整操作流程。

## 📂 相關檔案位置

- `phrases/workplace-phrases.md` — 職場片語庫
- `phrases/daily-phrases.md` — 日常片語庫
- `phrases/progress.md` — 學習進度追蹤
- `phrases/mistakes.md` — 錯誤片語統計
- `phrases/quizzes/` — 測驗檔案目錄

---

## 🎯 任務一：產生新測驗

當用戶要求產生新片語測驗時，執行以下步驟：

### Step 1: 確認測驗編號

// turbo

1. 查看 `phrases/quizzes/` 目錄，確認最新的測驗編號
2. 新測驗編號 = 最新編號 + 1（格式：quiz-001, quiz-002...）

### Step 2: 選擇出題片語

1. 讀取 `phrases/workplace-phrases.md` 和 `phrases/daily-phrases.md` 取得所有片語
2. 讀取 `phrases/mistakes.md` 取得錯誤片語清單
3. 出題優先順序：
   - **最優先**：錯誤率高的片語（mistakes.md 中的片語）
   - **次優先**：重要程度 5 且尚未測驗過的片語
   - **一般**：重要程度 4 的片語
   - **補充**：重要程度 3 的片語
4. 每份測驗 20-25 題
5. 職場與日常片語比例約 6:4

### Step 3: 產生題目

建立 `phrases/quizzes/quiz-XXX.md`，包含以下結構：

```markdown
# 📝 片語測驗 XXX

> 產生日期：YYYY-MM-DD
> 題數：XX 題
> 來源：職場 X 題 + 日常 X 題

---

## Part 1: 情境配對題（8 題）

（根據描述的情境，選出最適合的片語）

例：
1. 你想在會議結束後追蹤某個議題的進度，你會說：
   A) get back to
   B) follow up on
   C) touch base
   D) bring up

## Part 2: 中翻英選擇題（5 題）

（根據中文意思，選出正確的英文片語）

## Part 3: 填空題（5 題）

（根據句子上下文，選出正確的片語填入）

例：
1. The manager wants everyone to _______ before making the final decision.
   A) weigh in
   B) wind up
   C) wrap up
   D) work out

## Part 4: 對話完成題（4 題）

（選出最適合填入對話空格的片語）

例：
A: "Did you finish reading the proposal?"
B: "Not yet. Can I _______?"
   A) get back to you
   B) bring it up
   C) wind it down
   D) take it over

## Part 5: 易混淆片語辨析（3 題）

（區分意思相近但用法不同的片語）

例：
Which phrase means "to start a new topic in a conversation"?
   A) bring up
   B) bring about
   C) bring in
   D) bring out

---

## 📋 答案區

<details>
<summary>點擊展開答案</summary>

### Part 1 答案
1. B ...

### Part 2 答案
...

</details>

---

## 📊 本次測驗涵蓋片語

| 片語 | 類別 | 重要程度 |
| ---- | ---- | -------- |
| ... | 職場 | 5 |
```

### Step 4: 題目設計原則

1. **情境配對題**：描述真實職場或生活情境，讓用戶選擇最適合的片語
2. **中翻英題**：干擾項應包含容易混淆的片語
3. **填空題**：設計完整句子，提供 4 個選項
4. **對話完成題**：模擬真實對話情境
5. **易混淆辨析**：針對相似片語（如 bring up/bring about/bring in）

---

## 🎯 任務二：批改測驗

當用戶提交測驗答案時，執行以下步驟：

### Step 1: 接收並解析答案

用戶會以以下格式提交：

```
Quiz-XXX 答案：
Q1: A
Q2: B
...
```

### Step 2: 批改並計算成績

1. 對照正確答案批改每一題
2. 計算：正確題數、錯誤題數、正確率
3. 分別計算各題型表現

### Step 3: 回覆批改結果

向用戶顯示：

- 成績統計（正確/錯誤/正確率）
- 各題型表現
- 正確的題目清單
- 錯誤的題目清單（包含：片語、你的答案、正確答案、說明）
- 容易混淆的片語組（如有）
- 使用技巧與例句（如有）

### Step 4: 更新測驗檔案

在該測驗檔案（quiz-XXX.md）末尾加入「作答紀錄」區塊：

```markdown
---

## 📝 作答紀錄

> 作答日期：YYYY-MM-DD

### 成績

| 項目 | 結果 |
|-----|------|
| 正確 | XX 題 |
| 錯誤 | XX 題 |
| 正確率 | XX% |

### 各題型表現

| 題型 | 正確/總數 |
| ---- | --------- |
| 情境配對 | X/8 |
| 中翻英 | X/5 |
| 填空 | X/5 |
| 對話完成 | X/4 |
| 易混淆辨析 | X/3 |

### 我的答案

| 題號 | 我的答案 | 正確答案 | 結果 |
|-----|---------|---------|-----|
| Q1 | X | X | ✅/❌ |
...

### ❌ 錯誤詳細紀錄

#### QX: [片語]

- **題型**：情境配對/中翻英/填空/對話/辨析
- **我的答案**：X（意思）
- **正確答案**：X（意思）
- **混淆原因**：（分析可能的混淆原因）
- **正確用法**：（提供正確例句）
```

### Step 5: 更新 progress.md

1. 更新總覽統計（已測驗片語數、完成測驗數、平均正確率）
2. 新增測驗紀錄（日期、編號、題數、正確率）
3. 更新已測驗片語清單（測驗次數、正確次數、錯誤次數、正確率）

### Step 6: 更新 mistakes.md

1. 更新錯誤片語統計
2. 將錯誤片語加入對應區塊（高錯誤率/中等錯誤率）
3. 如有新的混淆片語組，加入「容易混淆的片語組」
4. 更新「錯誤來源追蹤」表格，加入新測驗的連結

### Step 7: 更新片語庫（可選）

將已測驗過的片語標記為 ✅

---

## 🎯 任務三：新增片語

當用戶提供新片語時，執行以下步驟：

### Step 1: 解析片語資料

用戶格式：`片語 | 中文意思 | 使用情境 | 例句 | 重要程度`

### Step 2: 更新片語庫

1. 根據類型（職場/日常）將新片語加入對應檔案
2. 加入對應的重要程度區塊
3. 更新總覽統計表

### Step 3: 確認回覆

告知用戶已新增的片語數量和內容

---

## 📋 注意事項

1. **日期格式**：統一使用 YYYY-MM-DD
2. **測驗編號**：三位數，前面補零（001, 002...）
3. **錯誤率計算**：錯誤次數 / (正確次數 + 錯誤次數) × 100%
4. **混淆片語組**：當發現相似片語被混淆時，記錄並提供記憶技巧
5. **出題避免重複**：同一份測驗中，同一片語只能出現一次
6. **題型分配**：情境配對 8 題 + 中翻英 5 題 + 填空 5 題 + 對話 4 題 + 辨析 3 題 = 25 題
